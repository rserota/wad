/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
	/******/
	/******/ 	// The require function
	/******/ 	function __webpack_require__(moduleId) {
		/******/
		/******/ 		// Check if module is in cache
		/******/ 		if(installedModules[moduleId]) {
			/******/ 			return installedModules[moduleId].exports;
			/******/ 		}
		/******/ 		// Create a new module (and put it into the cache)
		/******/ 		var module = installedModules[moduleId] = {
			/******/ 			i: moduleId,
			/******/ 			l: false,
			/******/ 			exports: {}
			/******/ 		};
		/******/
		/******/ 		// Execute the module function
		/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
		/******/
		/******/ 		// Flag the module as loaded
		/******/ 		module.l = true;
		/******/
		/******/ 		// Return the exports of the module
		/******/ 		return module.exports;
		/******/ 	}
	/******/
	/******/
	/******/ 	// expose the modules object (__webpack_modules__)
	/******/ 	__webpack_require__.m = modules;
	/******/
	/******/ 	// expose the module cache
	/******/ 	__webpack_require__.c = installedModules;
	/******/
	/******/ 	// define getter function for harmony exports
	/******/ 	__webpack_require__.d = function(exports, name, getter) {
		/******/ 		if(!__webpack_require__.o(exports, name)) {
			/******/ 			Object.defineProperty(exports, name, {
				/******/ 				configurable: false,
				/******/ 				enumerable: true,
				/******/ 				get: getter
				/******/ 			});
			/******/ 		}
		/******/ 	};
	/******/
	/******/ 	// define __esModule on exports
	/******/ 	__webpack_require__.r = function(exports) {
		/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
		/******/ 	};
	/******/
	/******/ 	// getDefaultExport function for compatibility with non-harmony modules
	/******/ 	__webpack_require__.n = function(module) {
		/******/ 		var getter = module && module.__esModule ?
		/******/ 			function getDefault() { return module['default']; } :
		/******/ 			function getModuleExports() { return module; };
		/******/ 		__webpack_require__.d(getter, 'a', getter);
		/******/ 		return getter;
		/******/ 	};
	/******/
	/******/ 	// Object.prototype.hasOwnProperty.call
	/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
	/******/
	/******/ 	// __webpack_public_path__
	/******/ 	__webpack_require__.p = '';
	/******/
	/******/
	/******/ 	// Load entry module and return exports
	/******/ 	return __webpack_require__(__webpack_require__.s = './test/6/src/index.js');
/******/ })
/************************************************************************/
/******/ ({

	/***/ './build/wad.min.js':
	/*!**************************!*\
  !*** ./build/wad.min.js ***!
  \**************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {

		!function(e,t){ true?module.exports=t():undefined;}(window,function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports;}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a});},i.r=function(e){Object.defineProperty(e,'__esModule',{value:!0});},i.n=function(e){var t=e&&e.__esModule?function(){return e.default;}:function(){return e;};return i.d(t,'a',t),t;},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},i.p='',i(i.s=5);}([function(e,t,i){!function(){var t,i,a=function(e,t){e.value=t;},n=Object.create(null,{activate:{writable:!0,value:function(e){e?(this.input.disconnect(),this.input.connect(this.activateNode),this.activateCallback&&this.activateCallback(e)):(this.input.disconnect(),this.input.connect(this.output));}},bypass:{get:function(){return this._bypass;},set:function(e){this._lastBypassValue!==e&&(this._bypass=e,this.activate(!e),this._lastBypassValue=e);}},connect:{value:function(e){this.output.connect(e);}},disconnect:{value:function(e){this.output.disconnect(e);}},connectInOrder:{value:function(e){for(var t=e.length-1;t--;){if(!e[t].connect)return console.error('AudioNode.connectInOrder: TypeError: Not an AudioNode.',e[t]);e[t+1].input?e[t].connect(e[t+1].input):e[t].connect(e[t+1]);}}},getDefaults:{value:function(){var e={};for(var t in this.defaults)e[t]=this.defaults[t].value;return e;}},automate:{value:function(e,i,a,n){var s,o=n?~~(n/1e3):t.currentTime,r=a?~~(a/1e3):0,u=this.defaults[e],l=this[e];l?u.automatable?(a?(s='linearRampToValueAtTime',l.cancelScheduledValues(o),l.setValueAtTime(l.value,o)):s='setValueAtTime',l[s](i,r+o)):l=i:console.error('Invalid Property for '+this.name);}}}),s='float',o='boolean',r='int';function u(e){if(!(this instanceof u))return new u(e);var a='undefined'==typeof window?{}:window;if(a.AudioContext||(a.AudioContext=a.webkitAudioContext),e||(console.log('tuna.js: Missing audio context! Creating a new context for you.'),e=a.AudioContext&&new a.AudioContext),!e)throw new Error('Tuna cannot initialize because this environment does not support web audio.');!function(e){if(!0===e.__connectified__)return;var t=e.createGain(),i=Object.getPrototypeOf(Object.getPrototypeOf(t)),a=i.connect;i.connect=function(){var e=arguments[0];return arguments[0]=n.isPrototypeOf?n.isPrototypeOf(e)?e.input:e:e.input||e,a.apply(this,arguments),e;},e.__connectified__=!0;}(e),t=e,i=this;}function l(e){return Math.max(0,Math.round(100*Math.pow(2,e/6))/100);}function h(e,t){var i,a,n,s=0,o=0,r=0;return i=e.toExponential().match(/^.\.?(.*)e(.+)$/),s=parseInt(i[2],10)-(i[1]+'').length,i=t.toExponential().match(/^.\.?(.*)e(.+)$/),(n=parseInt(i[2],10)-(i[1]+'').length)>s&&(s=n),a=e%t,s<-100||s>20?(o=Math.round(Math.log(a)/Math.log(10)),(a/(r=Math.pow(10,o))).toFixed(o-s)*r):parseFloat(a.toFixed(-s));}function c(e){return 0===e?1:Math.abs(e)/e;}function p(e){return(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e));}function d(e,t){return void 0===e?t:e;}void 0!==e&&e.exports?e.exports=u:window.define('Tuna',function(){return u;}),u.prototype.Bitcrusher=function(e){e||(e=this.getDefaults()),this.bufferSize=e.bufferSize||this.defaults.bufferSize.value,this.input=t.createGain(),this.activateNode=t.createGain(),this.processor=t.createScriptProcessor(this.bufferSize,1,1),this.output=t.createGain(),this.activateNode.connect(this.processor),this.processor.connect(this.output);var i,a,n,s,o,r=0,u=0;this.processor.onaudioprocess=function(e){for(i=e.inputBuffer.getChannelData(0),a=e.outputBuffer.getChannelData(0),n=Math.pow(.5,this.bits),o=i.length,s=0;s<o;s++)(r+=this.normfreq)>=1&&(r-=1,u=n*Math.floor(i[s]/n+.5)),a[s]=u;},this.bits=e.bits||this.defaults.bits.value,this.normfreq=d(e.normfreq,this.defaults.normfreq.value),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Bitcrusher.prototype=Object.create(n,{name:{value:'Bitcrusher'},defaults:{writable:!0,value:{bits:{value:4,min:1,max:16,automatable:!1,type:r},bufferSize:{value:4096,min:256,max:16384,automatable:!1,type:r},bypass:{value:!1,automatable:!1,type:o},normfreq:{value:.1,min:1e-4,max:1,automatable:!1,type:s}}},bits:{enumerable:!0,get:function(){return this.processor.bits;},set:function(e){this.processor.bits=e;}},normfreq:{enumerable:!0,get:function(){return this.processor.normfreq;},set:function(e){this.processor.normfreq=e;}}}),u.prototype.Cabinet=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.activateNode=t.createGain(),this.convolver=this.newConvolver(e.impulsePath||'../impulses/impulse_guitar.wav'),this.makeupNode=t.createGain(),this.output=t.createGain(),this.activateNode.connect(this.convolver.input),this.convolver.output.connect(this.makeupNode),this.makeupNode.connect(this.output),this.makeupGain=d(e.makeupGain,this.defaults.makeupGain.value),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Cabinet.prototype=Object.create(n,{name:{value:'Cabinet'},defaults:{writable:!0,value:{makeupGain:{value:1,min:0,max:20,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o}}},makeupGain:{enumerable:!0,get:function(){return this.makeupNode.gain;},set:function(e){this.makeupNode.gain.setTargetAtTime(e,t.currentTime,.01);}},newConvolver:{value:function(e){return new i.Convolver({impulse:e,dryLevel:0,wetLevel:1});}}}),u.prototype.Chorus=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.attenuator=this.activateNode=t.createGain(),this.splitter=t.createChannelSplitter(2),this.delayL=t.createDelay(),this.delayR=t.createDelay(),this.feedbackGainNodeLR=t.createGain(),this.feedbackGainNodeRL=t.createGain(),this.merger=t.createChannelMerger(2),this.output=t.createGain(),this.lfoL=new i.LFO({target:this.delayL.delayTime,callback:a}),this.lfoR=new i.LFO({target:this.delayR.delayTime,callback:a}),this.input.connect(this.attenuator),this.attenuator.connect(this.output),this.attenuator.connect(this.splitter),this.splitter.connect(this.delayL,0),this.splitter.connect(this.delayR,1),this.delayL.connect(this.feedbackGainNodeLR),this.delayR.connect(this.feedbackGainNodeRL),this.feedbackGainNodeLR.connect(this.delayR),this.feedbackGainNodeRL.connect(this.delayL),this.delayL.connect(this.merger,0,0),this.delayR.connect(this.merger,0,1),this.merger.connect(this.output),this.feedback=d(e.feedback,this.defaults.feedback.value),this.rate=d(e.rate,this.defaults.rate.value),this.delay=d(e.delay,this.defaults.delay.value),this.depth=d(e.depth,this.defaults.depth.value),this.lfoR.phase=Math.PI/2,this.attenuator.gain.value=.6934,this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Chorus.prototype=Object.create(n,{name:{value:'Chorus'},defaults:{writable:!0,value:{feedback:{value:.4,min:0,max:.95,automatable:!1,type:s},delay:{value:.0045,min:0,max:1,automatable:!1,type:s},depth:{value:.7,min:0,max:1,automatable:!1,type:s},rate:{value:1.5,min:0,max:8,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},delay:{enumerable:!0,get:function(){return this._delay;},set:function(e){this._delay=2*Math.pow(10,e)*2e-4,this.lfoL.offset=this._delay,this.lfoR.offset=this._delay,this._depth=this._depth;}},depth:{enumerable:!0,get:function(){return this._depth;},set:function(e){this._depth=e,this.lfoL.oscillation=this._depth*this._delay,this.lfoR.oscillation=this._depth*this._delay;}},feedback:{enumerable:!0,get:function(){return this._feedback;},set:function(e){this._feedback=e,this.feedbackGainNodeLR.gain.setTargetAtTime(this._feedback,t.currentTime,.01),this.feedbackGainNodeRL.gain.setTargetAtTime(this._feedback,t.currentTime,.01);}},rate:{enumerable:!0,get:function(){return this._rate;},set:function(e){this._rate=e,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate;}}}),u.prototype.Compressor=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.compNode=this.activateNode=t.createDynamicsCompressor(),this.makeupNode=t.createGain(),this.output=t.createGain(),this.compNode.connect(this.makeupNode),this.makeupNode.connect(this.output),this.automakeup=d(e.automakeup,this.defaults.automakeup.value),this.makeupGain=d(e.makeupGain,this.defaults.makeupGain.value),this.threshold=d(e.threshold,this.defaults.threshold.value),this.release=d(e.release,this.defaults.release.value),this.attack=d(e.attack,this.defaults.attack.value),this.ratio=e.ratio||this.defaults.ratio.value,this.knee=d(e.knee,this.defaults.knee.value),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Compressor.prototype=Object.create(n,{name:{value:'Compressor'},defaults:{writable:!0,value:{threshold:{value:-20,min:-60,max:0,automatable:!0,type:s},release:{value:250,min:10,max:2e3,automatable:!0,type:s},makeupGain:{value:1,min:1,max:100,automatable:!0,type:s},attack:{value:1,min:0,max:1e3,automatable:!0,type:s},ratio:{value:4,min:1,max:50,automatable:!0,type:s},knee:{value:5,min:0,max:40,automatable:!0,type:s},automakeup:{value:!1,automatable:!1,type:o},bypass:{value:!1,automatable:!1,type:o}}},computeMakeup:{value:function(){var e=this.compNode;return-(e.threshold.value-e.threshold.value/e.ratio.value)/4;}},automakeup:{enumerable:!0,get:function(){return this._automakeup;},set:function(e){this._automakeup=e,this._automakeup&&(this.makeupGain=this.computeMakeup());}},threshold:{enumerable:!0,get:function(){return this.compNode.threshold;},set:function(e){this.compNode.threshold.value=e,this._automakeup&&(this.makeupGain=this.computeMakeup());}},ratio:{enumerable:!0,get:function(){return this.compNode.ratio;},set:function(e){this.compNode.ratio.value=e,this._automakeup&&(this.makeupGain=this.computeMakeup());}},knee:{enumerable:!0,get:function(){return this.compNode.knee;},set:function(e){this.compNode.knee.value=e,this._automakeup&&(this.makeupGain=this.computeMakeup());}},attack:{enumerable:!0,get:function(){return this.compNode.attack;},set:function(e){this.compNode.attack.value=e/1e3;}},release:{enumerable:!0,get:function(){return this.compNode.release;},set:function(e){this.compNode.release.value=e/1e3;}},makeupGain:{enumerable:!0,get:function(){return this.makeupNode.gain;},set:function(e){this.makeupNode.gain.setTargetAtTime(l(e),t.currentTime,.01);}}}),u.prototype.Convolver=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.activateNode=t.createGain(),this.convolver=t.createConvolver(),this.dry=t.createGain(),this.filterLow=t.createBiquadFilter(),this.filterHigh=t.createBiquadFilter(),this.wet=t.createGain(),this.output=t.createGain(),this.activateNode.connect(this.filterLow),this.activateNode.connect(this.dry),this.filterLow.connect(this.filterHigh),this.filterHigh.connect(this.convolver),this.convolver.connect(this.wet),this.wet.connect(this.output),this.dry.connect(this.output),this.dryLevel=d(e.dryLevel,this.defaults.dryLevel.value),this.wetLevel=d(e.wetLevel,this.defaults.wetLevel.value),this.highCut=e.highCut||this.defaults.highCut.value,this.buffer=e.impulse||'../impulses/ir_rev_short.wav',this.lowCut=e.lowCut||this.defaults.lowCut.value,this.level=d(e.level,this.defaults.level.value),this.filterHigh.type='lowpass',this.filterLow.type='highpass',this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Convolver.prototype=Object.create(n,{name:{value:'Convolver'},defaults:{writable:!0,value:{highCut:{value:22050,min:20,max:22050,automatable:!0,type:s},lowCut:{value:20,min:20,max:22050,automatable:!0,type:s},dryLevel:{value:1,min:0,max:1,automatable:!0,type:s},wetLevel:{value:1,min:0,max:1,automatable:!0,type:s},level:{value:1,min:0,max:1,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o}}},lowCut:{get:function(){return this.filterLow.frequency;},set:function(e){this.filterLow.frequency.setTargetAtTime(e,t.currentTime,.01);}},highCut:{get:function(){return this.filterHigh.frequency;},set:function(e){this.filterHigh.frequency.setTargetAtTime(e,t.currentTime,.01);}},level:{get:function(){return this.output.gain;},set:function(e){this.output.gain.setTargetAtTime(e,t.currentTime,.01);}},dryLevel:{get:function(){return this.dry.gain;},set:function(e){this.dry.gain.setTargetAtTime(e,t.currentTime,.01);}},wetLevel:{get:function(){return this.wet.gain;},set:function(e){this.wet.gain.setTargetAtTime(e,t.currentTime,.01);}},buffer:{enumerable:!1,get:function(){return this.convolver.buffer;},set:function(e){var i=this.convolver,a=new XMLHttpRequest;e?(a.open('GET',e,!0),a.responseType='arraybuffer',a.onreadystatechange=function(){4===a.readyState&&(a.status<300&&a.status>199||302===a.status)&&t.decodeAudioData(a.response,function(e){i.buffer=e;},function(e){e&&console.log('Tuna.Convolver.setBuffer: Error decoding data'+e);});},a.send(null)):console.log('Tuna.Convolver.setBuffer: Missing impulse path!');}}}),u.prototype.Delay=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.activateNode=t.createGain(),this.dry=t.createGain(),this.wet=t.createGain(),this.filter=t.createBiquadFilter(),this.delay=t.createDelay(10),this.feedbackNode=t.createGain(),this.output=t.createGain(),this.activateNode.connect(this.delay),this.activateNode.connect(this.dry),this.delay.connect(this.filter),this.filter.connect(this.feedbackNode),this.feedbackNode.connect(this.delay),this.feedbackNode.connect(this.wet),this.wet.connect(this.output),this.dry.connect(this.output),this.delayTime=e.delayTime||this.defaults.delayTime.value,this.feedback=d(e.feedback,this.defaults.feedback.value),this.wetLevel=d(e.wetLevel,this.defaults.wetLevel.value),this.dryLevel=d(e.dryLevel,this.defaults.dryLevel.value),this.cutoff=e.cutoff||this.defaults.cutoff.value,this.filter.type='lowpass',this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Delay.prototype=Object.create(n,{name:{value:'Delay'},defaults:{writable:!0,value:{delayTime:{value:100,min:20,max:1e3,automatable:!1,type:s},feedback:{value:.45,min:0,max:.9,automatable:!0,type:s},cutoff:{value:2e4,min:20,max:2e4,automatable:!0,type:s},wetLevel:{value:.5,min:0,max:1,automatable:!0,type:s},dryLevel:{value:1,min:0,max:1,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o}}},delayTime:{enumerable:!0,get:function(){return this.delay.delayTime;},set:function(e){this.delay.delayTime.value=e/1e3;}},wetLevel:{enumerable:!0,get:function(){return this.wet.gain;},set:function(e){this.wet.gain.setTargetAtTime(e,t.currentTime,.01);}},dryLevel:{enumerable:!0,get:function(){return this.dry.gain;},set:function(e){this.dry.gain.setTargetAtTime(e,t.currentTime,.01);}},feedback:{enumerable:!0,get:function(){return this.feedbackNode.gain;},set:function(e){this.feedbackNode.gain.setTargetAtTime(e,t.currentTime,.01);}},cutoff:{enumerable:!0,get:function(){return this.filter.frequency;},set:function(e){this.filter.frequency.setTargetAtTime(e,t.currentTime,.01);}}}),u.prototype.Filter=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.activateNode=t.createGain(),this.filter=t.createBiquadFilter(),this.output=t.createGain(),this.activateNode.connect(this.filter),this.filter.connect(this.output),this.frequency=e.frequency||this.defaults.frequency.value,this.Q=e.resonance||this.defaults.Q.value,this.filterType=d(e.filterType,this.defaults.filterType.value),this.gain=d(e.gain,this.defaults.gain.value),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Filter.prototype=Object.create(n,{name:{value:'Filter'},defaults:{writable:!0,value:{frequency:{value:800,min:20,max:22050,automatable:!0,type:s},Q:{value:1,min:.001,max:100,automatable:!0,type:s},gain:{value:0,min:-40,max:40,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o},filterType:{value:'lowpass',automatable:!1,type:'string'}}},filterType:{enumerable:!0,get:function(){return this.filter.type;},set:function(e){this.filter.type=e;}},Q:{enumerable:!0,get:function(){return this.filter.Q;},set:function(e){this.filter.Q.value=e;}},gain:{enumerable:!0,get:function(){return this.filter.gain;},set:function(e){this.filter.gain.setTargetAtTime(e,t.currentTime,.01);}},frequency:{enumerable:!0,get:function(){return this.filter.frequency;},set:function(e){this.filter.frequency.setTargetAtTime(e,t.currentTime,.01);}}}),u.prototype.Gain=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.activateNode=t.createGain(),this.gainNode=t.createGain(),this.output=t.createGain(),this.activateNode.connect(this.gainNode),this.gainNode.connect(this.output),this.gain=d(e.gain,this.defaults.gain.value),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Gain.prototype=Object.create(n,{name:{value:'Gain'},defaults:{writable:!0,value:{bypass:{value:!1,automatable:!1,type:o},gain:{value:1,automatable:!0,type:s}}},gain:{enumerable:!0,get:function(){return this.gainNode.gain;},set:function(e){this.gainNode.gain.setTargetAtTime(e,t.currentTime,.01);}}}),u.prototype.MoogFilter=function(e){var i,a,n,s,o,r,u,l,h,c,p,f,v,m,y;e||(e=this.getDefaults()),this.bufferSize=e.bufferSize||this.defaults.bufferSize.value,this.input=t.createGain(),this.activateNode=t.createGain(),this.processor=t.createScriptProcessor(this.bufferSize,1,1),this.output=t.createGain(),this.activateNode.connect(this.processor),this.processor.connect(this.output),i=a=n=s=o=r=u=l=0,this.processor.onaudioprocess=function(e){for(h=e.inputBuffer.getChannelData(0),c=e.outputBuffer.getChannelData(0),p=1.16*this.cutoff,y=p*p*.35013*(p*p),f=this.resonance*(1-.15*p*p),m=h.length,v=0;v<m;v++)h[v]-=l*f,h[v]*=y,o=h[v]+.3*i+(1-p)*o,i=h[v],r=o+.3*a+(1-p)*r,a=o,u=r+.3*n+(1-p)*u,n=r,l=u+.3*s+(1-p)*l,s=u,c[v]=l;},this.cutoff=d(e.cutoff,this.defaults.cutoff.value),this.resonance=d(e.resonance,this.defaults.resonance.value),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.MoogFilter.prototype=Object.create(n,{name:{value:'MoogFilter'},defaults:{writable:!0,value:{bufferSize:{value:4096,min:256,max:16384,automatable:!1,type:r},bypass:{value:!1,automatable:!1,type:o},cutoff:{value:.065,min:1e-4,max:1,automatable:!1,type:s},resonance:{value:3.5,min:0,max:4,automatable:!1,type:s}}},cutoff:{enumerable:!0,get:function(){return this.processor.cutoff;},set:function(e){this.processor.cutoff=e;}},resonance:{enumerable:!0,get:function(){return this.processor.resonance;},set:function(e){this.processor.resonance=e;}}}),u.prototype.Overdrive=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.activateNode=t.createGain(),this.inputDrive=t.createGain(),this.waveshaper=t.createWaveShaper(),this.outputDrive=t.createGain(),this.output=t.createGain(),this.activateNode.connect(this.inputDrive),this.inputDrive.connect(this.waveshaper),this.waveshaper.connect(this.outputDrive),this.outputDrive.connect(this.output),this.ws_table=new Float32Array(this.k_nSamples),this.drive=d(e.drive,this.defaults.drive.value),this.outputGain=d(e.outputGain,this.defaults.outputGain.value),this.curveAmount=d(e.curveAmount,this.defaults.curveAmount.value),this.algorithmIndex=d(e.algorithmIndex,this.defaults.algorithmIndex.value),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Overdrive.prototype=Object.create(n,{name:{value:'Overdrive'},defaults:{writable:!0,value:{drive:{value:1,min:0,max:1,automatable:!0,type:s,scaled:!0},outputGain:{value:0,min:-46,max:0,automatable:!0,type:s,scaled:!0},curveAmount:{value:.725,min:0,max:1,automatable:!1,type:s},algorithmIndex:{value:0,min:0,max:5,automatable:!1,type:r},bypass:{value:!1,automatable:!1,type:o}}},k_nSamples:{value:8192},drive:{get:function(){return this.inputDrive.gain;},set:function(e){this._drive=e;}},curveAmount:{get:function(){return this._curveAmount;},set:function(e){this._curveAmount=e,void 0===this._algorithmIndex&&(this._algorithmIndex=0),this.waveshaperAlgorithms[this._algorithmIndex](this._curveAmount,this.k_nSamples,this.ws_table),this.waveshaper.curve=this.ws_table;}},outputGain:{get:function(){return this.outputDrive.gain;},set:function(e){this._outputGain=l(e),this.outputDrive.gain.setValueAtTime(this._outputGain,t.currentTime,.01);}},algorithmIndex:{get:function(){return this._algorithmIndex;},set:function(e){this._algorithmIndex=e,this.curveAmount=this._curveAmount;}},waveshaperAlgorithms:{value:[function(e,t,i){var a,n,s=2*(e=Math.min(e,.9999))/(1-e);for(a=0;a<t;a++)n=2*a/t-1,i[a]=(1+s)*n/(1+s*Math.abs(n));},function(e,t,i){var a,n,s;for(a=0;a<t;a++)n=2*a/t-1,s=(.5*Math.pow(n+1.4,2)-1)*s>=0?5.8:1.2,i[a]=p(s);},function(e,t,i){var a,n,s,o=1-e;for(a=0;a<t;a++)s=(n=2*a/t-1)<0?-Math.pow(Math.abs(n),o+.04):Math.pow(n,o),i[a]=p(2*s);},function(e,t,i){var a,n,s,o,r=1-e>.99?.99:1-e;for(a=0;a<t;a++)n=2*a/t-1,(o=Math.abs(n))<r?s=o:o>r?s=r+(o-r)/(1+Math.pow((o-r)/(1-r),2)):o>1&&(s=o),i[a]=c(n)*s*(1/((r+1)/2));},function(e,t,i){var a,n;for(a=0;a<t;a++)n=2*a/t-1,i[a]=n<-.08905?-.75*(1-Math.pow(1-(Math.abs(n)-.032857),12)+1/3*(Math.abs(n)-.032847))+.01:n>=-.08905&&n<.320018?n*n*-6.153+3.9375*n:.630035;},function(e,t,i){var a,n,s=2+Math.round(14*e),o=Math.round(Math.pow(2,s-1));for(a=0;a<t;a++)n=2*a/t-1,i[a]=Math.round(n*o)/o;}]}}),u.prototype.Panner=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.activateNode=t.createGain(),this.panner=t.createStereoPanner(),this.output=t.createGain(),this.activateNode.connect(this.panner),this.panner.connect(this.output),this.pan=d(e.pan,this.defaults.pan.value),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Panner.prototype=Object.create(n,{name:{value:'Panner'},defaults:{writable:!0,value:{bypass:{value:!1,automatable:!1,type:o},pan:{value:0,min:-1,max:1,automatable:!0,type:s}}},pan:{enumerable:!0,get:function(){return this.panner.pan;},set:function(e){this.panner.pan.value=e;}}}),u.prototype.Phaser=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.splitter=this.activateNode=t.createChannelSplitter(2),this.filtersL=[],this.filtersR=[],this.feedbackGainNodeL=t.createGain(),this.feedbackGainNodeR=t.createGain(),this.merger=t.createChannelMerger(2),this.filteredSignal=t.createGain(),this.output=t.createGain(),this.lfoL=new i.LFO({target:this.filtersL,callback:this.callback}),this.lfoR=new i.LFO({target:this.filtersR,callback:this.callback});for(var a=this.stage;a--;)this.filtersL[a]=t.createBiquadFilter(),this.filtersR[a]=t.createBiquadFilter(),this.filtersL[a].type='allpass',this.filtersR[a].type='allpass';this.input.connect(this.splitter),this.input.connect(this.output),this.splitter.connect(this.filtersL[0],0,0),this.splitter.connect(this.filtersR[0],1,0),this.connectInOrder(this.filtersL),this.connectInOrder(this.filtersR),this.filtersL[this.stage-1].connect(this.feedbackGainNodeL),this.filtersL[this.stage-1].connect(this.merger,0,0),this.filtersR[this.stage-1].connect(this.feedbackGainNodeR),this.filtersR[this.stage-1].connect(this.merger,0,1),this.feedbackGainNodeL.connect(this.filtersL[0]),this.feedbackGainNodeR.connect(this.filtersR[0]),this.merger.connect(this.output),this.rate=d(e.rate,this.defaults.rate.value),this.baseModulationFrequency=e.baseModulationFrequency||this.defaults.baseModulationFrequency.value,this.depth=d(e.depth,this.defaults.depth.value),this.feedback=d(e.feedback,this.defaults.feedback.value),this.stereoPhase=d(e.stereoPhase,this.defaults.stereoPhase.value),this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Phaser.prototype=Object.create(n,{name:{value:'Phaser'},stage:{value:4},defaults:{writable:!0,value:{rate:{value:.1,min:0,max:8,automatable:!1,type:s},depth:{value:.6,min:0,max:1,automatable:!1,type:s},feedback:{value:.7,min:0,max:1,automatable:!1,type:s},stereoPhase:{value:40,min:0,max:180,automatable:!1,type:s},baseModulationFrequency:{value:700,min:500,max:1500,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},callback:{value:function(e,t){for(var i=0;i<4;i++)e[i].frequency.value=t;}},depth:{get:function(){return this._depth;},set:function(e){this._depth=e,this.lfoL.oscillation=this._baseModulationFrequency*this._depth,this.lfoR.oscillation=this._baseModulationFrequency*this._depth;}},rate:{get:function(){return this._rate;},set:function(e){this._rate=e,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate;}},baseModulationFrequency:{enumerable:!0,get:function(){return this._baseModulationFrequency;},set:function(e){this._baseModulationFrequency=e,this.lfoL.offset=this._baseModulationFrequency,this.lfoR.offset=this._baseModulationFrequency,this.depth=this._depth;}},feedback:{get:function(){return this._feedback;},set:function(e){this._feedback=e,this.feedbackGainNodeL.gain.setTargetAtTime(this._feedback,t.currentTime,.01),this.feedbackGainNodeR.gain.setTargetAtTime(this._feedback,t.currentTime,.01);}},stereoPhase:{get:function(){return this._stereoPhase;},set:function(e){this._stereoPhase=e;var t=this.lfoL._phase+this._stereoPhase*Math.PI/180;t=h(t,2*Math.PI),this.lfoR._phase=t;}}}),u.prototype.PingPongDelay=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.wet=t.createGain(),this.stereoToMonoMix=t.createGain(),this.feedbackLevel=t.createGain(),this.output=t.createGain(),this.delayLeft=t.createDelay(10),this.delayRight=t.createDelay(10),this.activateNode=t.createGain(),this.splitter=t.createChannelSplitter(2),this.merger=t.createChannelMerger(2),this.activateNode.connect(this.splitter),this.splitter.connect(this.stereoToMonoMix,0,0),this.splitter.connect(this.stereoToMonoMix,1,0),this.stereoToMonoMix.gain.value=.5,this.stereoToMonoMix.connect(this.wet),this.wet.connect(this.delayLeft),this.feedbackLevel.connect(this.wet),this.delayLeft.connect(this.delayRight),this.delayRight.connect(this.feedbackLevel),this.delayLeft.connect(this.merger,0,0),this.delayRight.connect(this.merger,0,1),this.merger.connect(this.output),this.activateNode.connect(this.output),this.delayTimeLeft=void 0!==e.delayTimeLeft?e.delayTimeLeft:this.defaults.delayTimeLeft.value,this.delayTimeRight=void 0!==e.delayTimeRight?e.delayTimeRight:this.defaults.delayTimeRight.value,this.feedbackLevel.gain.value=void 0!==e.feedback?e.feedback:this.defaults.feedback.value,this.wet.gain.value=void 0!==e.wetLevel?e.wetLevel:this.defaults.wetLevel.value,this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.PingPongDelay.prototype=Object.create(n,{name:{value:'PingPongDelay'},delayTimeLeft:{enumerable:!0,get:function(){return this._delayTimeLeft;},set:function(e){this._delayTimeLeft=e,this.delayLeft.delayTime.value=e/1e3;}},delayTimeRight:{enumerable:!0,get:function(){return this._delayTimeRight;},set:function(e){this._delayTimeRight=e,this.delayRight.delayTime.value=e/1e3;}},wetLevel:{enumerable:!0,get:function(){return this.wet.gain;},set:function(e){this.wet.gain.setTargetAtTime(e,t.currentTime,.01);}},feedback:{enumerable:!0,get:function(){return this.feedbackLevel.gain;},set:function(e){this.feedbackLevel.gain.setTargetAtTime(e,t.currentTime,.01);}},defaults:{writable:!0,value:{delayTimeLeft:{value:200,min:1,max:1e4,automatable:!1,type:r},delayTimeRight:{value:400,min:1,max:1e4,automatable:!1,type:r},feedback:{value:.3,min:0,max:1,automatable:!0,type:s},wetLevel:{value:.5,min:0,max:1,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o}}}}),u.prototype.Tremolo=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.splitter=this.activateNode=t.createChannelSplitter(2),this.amplitudeL=t.createGain(),this.amplitudeR=t.createGain(),this.merger=t.createChannelMerger(2),this.output=t.createGain(),this.lfoL=new i.LFO({target:this.amplitudeL.gain,callback:a}),this.lfoR=new i.LFO({target:this.amplitudeR.gain,callback:a}),this.input.connect(this.splitter),this.splitter.connect(this.amplitudeL,0),this.splitter.connect(this.amplitudeR,1),this.amplitudeL.connect(this.merger,0,0),this.amplitudeR.connect(this.merger,0,1),this.merger.connect(this.output),this.rate=e.rate||this.defaults.rate.value,this.intensity=d(e.intensity,this.defaults.intensity.value),this.stereoPhase=d(e.stereoPhase,this.defaults.stereoPhase.value),this.lfoL.offset=1-this.intensity/2,this.lfoR.offset=1-this.intensity/2,this.lfoL.phase=this.stereoPhase*Math.PI/180,this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.Tremolo.prototype=Object.create(n,{name:{value:'Tremolo'},defaults:{writable:!0,value:{intensity:{value:.3,min:0,max:1,automatable:!1,type:s},stereoPhase:{value:0,min:0,max:180,automatable:!1,type:s},rate:{value:5,min:.1,max:11,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},intensity:{enumerable:!0,get:function(){return this._intensity;},set:function(e){this._intensity=e,this.lfoL.offset=1-this._intensity/2,this.lfoR.offset=1-this._intensity/2,this.lfoL.oscillation=this._intensity,this.lfoR.oscillation=this._intensity;}},rate:{enumerable:!0,get:function(){return this._rate;},set:function(e){this._rate=e,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate;}},stereoPhase:{enumerable:!0,get:function(){return this._stereoPhase;},set:function(e){this._stereoPhase=e;var t=this.lfoL._phase+this._stereoPhase*Math.PI/180;t=h(t,2*Math.PI),this.lfoR.phase=t;}}}),u.prototype.WahWah=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.activateNode=t.createGain(),this.envelopeFollower=new i.EnvelopeFollower({target:this,callback:function(e,t){e.sweep=t;}}),this.filterBp=t.createBiquadFilter(),this.filterPeaking=t.createBiquadFilter(),this.output=t.createGain(),this.activateNode.connect(this.filterBp),this.filterBp.connect(this.filterPeaking),this.filterPeaking.connect(this.output),this.init(),this.automode=d(e.automode,this.defaults.automode.value),this.resonance=e.resonance||this.defaults.resonance.value,this.sensitivity=d(e.sensitivity,this.defaults.sensitivity.value),this.baseFrequency=d(e.baseFrequency,this.defaults.baseFrequency.value),this.excursionOctaves=e.excursionOctaves||this.defaults.excursionOctaves.value,this.sweep=d(e.sweep,this.defaults.sweep.value),this.activateNode.gain.value=2,this.envelopeFollower.activate(!0),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.WahWah.prototype=Object.create(n,{name:{value:'WahWah'},defaults:{writable:!0,value:{automode:{value:!0,automatable:!1,type:o},baseFrequency:{value:.5,min:0,max:1,automatable:!1,type:s},excursionOctaves:{value:2,min:1,max:6,automatable:!1,type:s},sweep:{value:.2,min:0,max:1,automatable:!1,type:s},resonance:{value:10,min:1,max:100,automatable:!1,type:s},sensitivity:{value:.5,min:-1,max:1,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},automode:{get:function(){return this._automode;},set:function(e){this._automode=e,e?(this.activateNode.connect(this.envelopeFollower.input),this.envelopeFollower.activate(!0)):(this.envelopeFollower.activate(!1),this.activateNode.disconnect(),this.activateNode.connect(this.filterBp));}},filterFreqTimeout:{value:0},setFilterFreq:{value:function(){try{this.filterBp.frequency.value=Math.min(22050,this._baseFrequency+this._excursionFrequency*this._sweep),this.filterPeaking.frequency.value=Math.min(22050,this._baseFrequency+this._excursionFrequency*this._sweep);}catch(e){clearTimeout(this.filterFreqTimeout),this.filterFreqTimeout=setTimeout(function(){this.setFilterFreq();}.bind(this),0);}}},sweep:{enumerable:!0,get:function(){return this._sweep;},set:function(e){this._sweep=Math.pow(e>1?1:e<0?0:e,this._sensitivity),this.setFilterFreq();}},baseFrequency:{enumerable:!0,get:function(){return this._baseFrequency;},set:function(e){this._baseFrequency=50*Math.pow(10,2*e),this._excursionFrequency=Math.min(t.sampleRate/2,this.baseFrequency*Math.pow(2,this._excursionOctaves)),this.setFilterFreq();}},excursionOctaves:{enumerable:!0,get:function(){return this._excursionOctaves;},set:function(e){this._excursionOctaves=e,this._excursionFrequency=Math.min(t.sampleRate/2,this.baseFrequency*Math.pow(2,this._excursionOctaves)),this.setFilterFreq();}},sensitivity:{enumerable:!0,get:function(){return this._sensitivity;},set:function(e){this._sensitivity=Math.pow(10,e);}},resonance:{enumerable:!0,get:function(){return this._resonance;},set:function(e){this._resonance=e,this.filterPeaking.Q=this._resonance;}},init:{value:function(){this.output.gain.value=1,this.filterPeaking.type='peaking',this.filterBp.type='bandpass',this.filterPeaking.frequency.value=100,this.filterPeaking.gain.value=20,this.filterPeaking.Q.value=5,this.filterBp.frequency.value=100,this.filterBp.Q.value=1;}}}),u.prototype.EnvelopeFollower=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.jsNode=this.output=t.createScriptProcessor(this.buffersize,1,1),this.input.connect(this.output),this.attackTime=d(e.attackTime,this.defaults.attackTime.value),this.releaseTime=d(e.releaseTime,this.defaults.releaseTime.value),this._envelope=0,this.target=e.target||{},this.callback=e.callback||function(){},this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.EnvelopeFollower.prototype=Object.create(n,{name:{value:'EnvelopeFollower'},defaults:{value:{attackTime:{value:.003,min:0,max:.5,automatable:!1,type:s},releaseTime:{value:.5,min:0,max:.5,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},buffersize:{value:256},envelope:{value:0},sampleRate:{value:44100},attackTime:{enumerable:!0,get:function(){return this._attackTime;},set:function(e){this._attackTime=e,this._attackC=Math.exp(-1/this._attackTime*this.sampleRate/this.buffersize);}},releaseTime:{enumerable:!0,get:function(){return this._releaseTime;},set:function(e){this._releaseTime=e,this._releaseC=Math.exp(-1/this._releaseTime*this.sampleRate/this.buffersize);}},callback:{get:function(){return this._callback;},set:function(e){'function'==typeof e?this._callback=e:console.error('tuna.js: '+this.name+': Callback must be a function!');}},target:{get:function(){return this._target;},set:function(e){this._target=e;}},activate:{value:function(e){this.activated=e,e?(this.jsNode.connect(t.destination),this.jsNode.onaudioprocess=this.returnCompute(this)):(this.jsNode.disconnect(),this.jsNode.onaudioprocess=null),this.activateCallback&&this.activateCallback(e);}},returnCompute:{value:function(e){return function(t){e.compute(t);};}},compute:{value:function(e){var t,i,a,n,s=e.inputBuffer.getChannelData(0).length,o=e.inputBuffer.numberOfChannels;if(i=a=n=0,o>1)for(n=0;n<s;++n)for(;i<o;++i)a+=(t=e.inputBuffer.getChannelData(i)[n])*t/o;else for(n=0;n<s;++n)a+=(t=e.inputBuffer.getChannelData(0)[n])*t;a=Math.sqrt(a),this._envelope<a?(this._envelope*=this._attackC,this._envelope+=(1-this._attackC)*a):(this._envelope*=this._releaseC,this._envelope+=(1-this._releaseC)*a),this._callback(this._target,this._envelope);}}}),u.prototype.LFO=function(e){e||(e=this.getDefaults()),this.input=t.createGain(),this.output=t.createScriptProcessor(256,1,1),this.activateNode=t.destination,this.frequency=d(e.frequency,this.defaults.frequency.value),this.offset=d(e.offset,this.defaults.offset.value),this.oscillation=d(e.oscillation,this.defaults.oscillation.value),this.phase=d(e.phase,this.defaults.phase.value),this.target=e.target||{},this.output.onaudioprocess=this.callback(e.callback||function(){}),this.bypass=e.bypass||this.defaults.bypass.value;},u.prototype.LFO.prototype=Object.create(n,{name:{value:'LFO'},bufferSize:{value:256},sampleRate:{value:44100},defaults:{value:{frequency:{value:1,min:0,max:20,automatable:!1,type:s},offset:{value:.85,min:0,max:22049,automatable:!1,type:s},oscillation:{value:.3,min:-22050,max:22050,automatable:!1,type:s},phase:{value:0,min:0,max:2*Math.PI,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},frequency:{get:function(){return this._frequency;},set:function(e){this._frequency=e,this._phaseInc=2*Math.PI*this._frequency*this.bufferSize/this.sampleRate;}},offset:{get:function(){return this._offset;},set:function(e){this._offset=e;}},oscillation:{get:function(){return this._oscillation;},set:function(e){this._oscillation=e;}},phase:{get:function(){return this._phase;},set:function(e){this._phase=e;}},target:{get:function(){return this._target;},set:function(e){this._target=e;}},activate:{value:function(e){e?(this.output.connect(t.destination),this.activateCallback&&this.activateCallback(e)):this.output.disconnect();}},callback:{value:function(e){var t=this;return function(){t._phase+=t._phaseInc,t._phase>2*Math.PI&&(t._phase=0),e(t._target,t._offset+t._oscillation*Math.sin(t._phase));};}}}),u.toString=u.prototype.toString=function(){return'Please visit https://github.com/Theodeus/tuna/wiki for instructions on how to use Tuna.js';};}();},function(e,t){var i=new Uint8Array(2048);function a(e){for(var t,i=e.inputBuffer.getChannelData(0),a=i.length,n=0,s=0;s<a;s++)t=i[s],Math.abs(t)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),n+=t*t;var o=Math.sqrt(n/a);this.volume=Math.max(o,this.volume*this.averaging);}const n=function(e){e||(e={}),this.isSetUp=!1,this.playable=1,e.reverb?constructReverb(this,e):this.setUp(e);};n.prototype.setUp=function(e){var t,i,n,s,o;this.wads=[],this.input=context.createAnalyser(),this.input.fftSize=2048,this.nodes=[this.input],this.destination=e.destination||context.destination,this.volume=e.volume||1,this.gain=context.createGain(),this.gain.gain.value=this.volume,this.output=context.createAnalyser(),this.tuna=e.tuna||null,this.audioMeter=null,e.audioMeter&&(this.audioMeter=(t=context,i=e.audioMeter.clipLevel,n=e.audioMeter.averaging,s=e.audioMeter.clipLag,(o=t.createScriptProcessor(512)).onaudioprocess=a,o.clipping=!1,o.lastClip=0,o.volume=0,o.clipLevel=i||.98,o.averaging=n||.95,o.clipLag=s||750,o.connect(t.destination),o.checkClipping=function(){return!!this.clipping&&(this.lastClip+this.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping);},o.shutdown=function(){this.disconnect(),this.onaudioprocess=null;},o),this.output.connect(this.audioMeter)),this.globalReverb=e.globalReverb||!1,constructFilter(this,e),this.filter&&createFilters(this,e),this.reverb&&setUpReverbOnPlay(this,e),this.constructExternalFx(e,context),constructPanning(this,e),setUpPanningOnPlay(this,e),e.compressor&&constructCompressor(this,e),constructDelay(this,e),setUpDelayOnPlay(this,e),setUpTunaOnPlay(this,e),this.nodes.push(this.gain),this.nodes.push(this.output),plugEmIn(this,e),this.isSetUp=!0,e.callback&&e.callback(this);},n.prototype.updatePitch=function(e){this.input.getByteTimeDomainData(i);var t,a,n=function(e,t){var i=-1,a=0,n=0,s=!1;if(e.length<1996)return-1;for(var o=0;o<1e3;o++){var r=(e[o]-128)/128;n+=r*r;}if((n=Math.sqrt(n/1e3))<.01)return-1;for(var u=1,l=4;l<=1e3;l++){var h=0;for(o=0;o<1e3;o++)h+=Math.abs((e[o]-128)/128-(e[o+l]-128)/128);if((h=1-h/1e3)>.9&&h>u)s=!0;else if(s)return t/i;u=h,h>a&&(a=h,i=l);}return a>.01?t/i:-1;}(i,context.sampleRate);if(-1!==n&&11025!==n&&12e3!==n){var s=n;this.pitch=Math.floor(s);var o=(t=s,a=Math.log(t/440)/Math.log(2)*12,Math.round(a)+69);this.noteName=Wad.pitchesArray[o-12];}var r=this;r.rafID=window.requestAnimationFrame(function(){r.updatePitch();});},n.prototype.stopUpdatingPitch=function(){cancelAnimationFrame(this.rafID);},n.prototype.setVolume=function(e){return this.isSetUp?this.gain.gain.value=e:logMessage('This PolyWad is not set up yet.'),this;},n.prototype.setPitch=function(e){this.wads.forEach(function(t){return e in Wad.pitches?(t.soundSource&&(t.soundSource.frequency.value=Wad.pitches[e]),t.pitch=Wad.pitches[e]):(t.soundSource&&(t.soundSource.frequency.value=e),t.pitch=e),this;});},n.prototype.play=function(e){if(this.isSetUp)if(this.playable<1)this.playOnLoad=!0,this.playOnLoadArg=e;else{e&&e.volume&&(this.gain.gain.value=e.volume,e.volume=void 0);for(var t=0;t<this.wads.length;t++)this.wads[t].play(e);}else logMessage('This PolyWad is not set up yet.');return this;},n.prototype.stop=function(e){if(this.isSetUp)for(var t=0;t<this.wads.length;t++)this.wads[t].stop(e);},n.prototype.add=function(e){return this.isSetUp?(e.destination=this.input,this.wads.push(e),e instanceof Wad.Poly&&(e.output.disconnect(0),e.output.connect(this.input))):logMessage('This PolyWad is not set up yet.'),this;},n.prototype.remove=function(e){if(this.isSetUp)for(var t=0;t<this.wads.length;t++)this.wads[t]===e&&(this.wads[t].destination=context.destination,this.wads.splice(t,1),e instanceof Wad.Poly&&(e.output.disconnect(0),e.output.connect(context.destination)));return this;},n.prototype.constructExternalFx=function(e,t){};},function(e,t,i){'use strict';i.d(t,'a',function(){return n;});class a{constructor(e,t){this._setFunc=t,this.AudioParamautomationRate='a-rate',this.defaultValue=e,this.maxValue=3.4028234663852886e38,this.minValue=-3.4028234663852886e38,this._value=this.defaultValue;}get value(){return this._value;}set value(e){this._setFunc(e),this._value=e;}}class n{constructor(e){this._listener=e.listener,window.listener=this._listener,this.positionX=this._listener.positionX||new a(0,e=>this._listener.setPosition(e,this.positionY.value,this.positionZ.value)),this.positionY=this._listener.positionY||new a(0,e=>this._listener.setPosition(this.positionX.value,e,this.positionZ.value)),this.positionZ=this._listener.positionZ||new a(0,e=>this._listener.setPosition(this.positionX.value,this.positionY.value,e)),this.forwardX=this._listener.forwardX||new a(0,e=>this._listener.setOrientation(e,this.forwardY.value,this.forwardZ.value,this.upX.value,this.upY.value,this.upZ.value)),this.forwardY=this._listener.ForwardY||new a(0,e=>this._listener.setOrientation(this.forwardX.value,e,this.forwardZ.value,this.upX.value,this.upY.value,this.upZ.value)),this.forwardZ=this._listener.forwardZ||new a(-1,e=>this._listener.setOrientation(this.forwardX.value,this.forwardY.value,e,this.upX.value,this.upY.value,this.upZ.value)),this.upX=this._listener.upZ||new a(0,e=>this._listener.setOrientation(this.forwardX.value,this.forwardY.value,this.forwardZ.value,e,this.upY.value,this.upZ.value)),this.upY=this._listener.upY||new a(1,e=>this._listener.setOrientation(this.forwardX.value,this.forwardY.value,this.forwardZ.value,this.upX.value,e,this.upZ.value)),this.upZ=this._listener.upZ||new a(0,e=>this._listener.setOrientation(this.forwardX.value,this.forwardY.value,this.forwardZ.value,this.upX.value,this.upY.value,e));}setPosition(e,t,i){this.positionX.value=e,this.positionY.value=t,this.positionZ.value=i;}getPosition(){return[this.positionX.value,this.positionY.value,this.positionZ.value];}setOrientation(e,t,i,a,n,s){this.forwardX.value=e,this.forwardY.value=t,this.forwardZ.value=i,this.upX.value=a,this.upY.value=n,this.upZ.value=s;}getOrientation(){return[this.forwardX.value,this.forwardY.value,this.forwardZ.value,this.upX.value,this.upY.value,this.upZ.value];}}},function(e,t,i){'use strict';function a(e,t){if(i=e,!(null!=(a=t)&&'undefined'!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](i):i instanceof a))throw new TypeError('Cannot call a class as a function');var i,a;}function n(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a);}}var s,o,r,u=function(){function e(t,i){a(this,e),this.Wad=i,t=Object.assign({},e.defaultArgs,t),this.files=t.files,this.sounds=this.files.map(function(e){return e.play?e:new i({source:e});}),this.randomSounds=this.sounds.slice(),this.random=t.random,this.randomPlaysBeforeRepeat=this.sounds.length>3&&t.randomPlaysBeforeRepeat<sounds.length-1?t.randomPlaysBeforeRepeat:0,this.index=0,this.waitingSounds=[];}var t,i,s;return t=e,(i=[{key:'play',value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.sounds.length)return 0;if(this.random){var i=Math.floor(Math.random()*this.randomSounds.length),a=this.randomSounds[i];return this.index=this.sounds.indexOf(a),this.waitingSounds=this.waitingSounds.filter(function(t){return t.plays-=1,!(t.plays<1)||(e.randomSounds.push(t.sound),null);}),this.randomPlaysBeforeRepeat&&(this.randomSounds.splice(i,1),this.waitingSounds.push({plays:this.randomPlaysBeforeRepeat,sound:a})),a.play(t);}var n=this.sounds[this.index]?this.sounds[this.index].play(t):void 0;return this.index+=1,this.index>=this.sounds.length&&(this.index=0),n;}},{key:'add',value:function(e){return e.play||(e=new this.Wad({source:e})),this.sounds.push(e),this.randomSounds.push(e),this;}},{key:'remove',value:function(e){var t=this.sounds.indexOf(e);if(-1===t)throw new Error('That sound does not exist: '.concat(e));this.sounds.splice(t,1);var i=this.randomSounds.indexOf(e);return-1===i?this.waitingSounds=this.waitingSounds.filter(function(t){return t.sound!==e;}):this.randomSounds.splice(i,1),this;}}])&&n(t.prototype,i),s&&n(t,s),e;}();r={files:[],random:!1,randomPlaysBeforeRepeat:0},(o='defaultArgs')in(s=u)?Object.defineProperty(s,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[o]=r,t.a=u;},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,'loaded',{enumerable:!0,get:function(){return t.l;}}),Object.defineProperty(t,'id',{enumerable:!0,get:function(){return t.i;}}),Object.defineProperty(t,'exports',{enumerable:!0}),t.webpackPolyfill=1;}return t;};},function(e,t,i){'use strict';i.r(t),function(e){var a=i(0),n=i.n(a),s=i(3),o=i(2),r=i(1),u=i.n(r),l=function(){var e,t=window.AudioContext||window.webkitAudioContext,i={verbosity:0,suppressedLogs:0},a=function(e,t){t=t||1;i.verbosity>=t?console.log(e):i.suppressedLogs++;},r=document.querySelector('a-scene');r&&r.audioListener&&r.audioListener.context?(e=r.audioListener.context,a('An A-Frame scene has been detected.')):e=new t;var l=function(){a('unlock',2),'suspended'===e.state?(a('suspended',2),e.resume()):'running'===e.state&&(a('The audio context is running.',2),a(e,2),window.removeEventListener('mousemove',l),window.removeEventListener('touchstart',l),window.removeEventListener('touchend',l));};window.addEventListener('mousemove',l),window.addEventListener('touchstart',l),window.addEventListener('touchend',l);var h=function(e){if(e.navigator.mediaDevices&&e.navigator.mediaDevices.getUserMedia)return e.navigator.mediaDevices.getUserMedia.bind(e.navigator.mediaDevices);var t=e.navigator.getUserMedia||e.navigator.webkitGetUserMedia||e.navigator.mozGetUserMedia;return t?function(i){return new Promise(function(a,n){t.call(e.navigator,i,a,n);});}:function(){throw'getUserMedia is unsupported';};}(window);a(h?'Your browser supports getUserMedia.':'Your browser does not support getUserMedia.');var c=function(){Math.seed=6,Math.seededRandom=function(e,t){return e=e||1,t=t||0,Math.seed=(9301*Math.seed+49297)%233280,t+Math.seed/233280*(e-t);};for(var t=2*e.sampleRate,i=e.createBuffer(1,t,e.sampleRate),a=i.getChannelData(0),n=0;n<t;n++)a[n]=2*Math.seededRandom()-1;return i;}(),p=function(e){return'[object Array]'===Object.prototype.toString.call(e);},d=function(e,t){t.filter?p(t.filter)?e.filter=t.filter.map(function(e){return{type:e.type||'lowpass',frequency:e.frequency||600,q:e.q||1,env:e.env||null};}):e.filter=[{type:t.filter.type||'lowpass',frequency:t.filter.frequency||600,q:t.filter.q||1,env:t.filter.env||null}]:t.filter=null;},f=function(e,t){t.vibrato?e.vibrato={shape:L(t.vibrato.shape,'sine'),speed:L(t.vibrato.speed,1),magnitude:L(t.vibrato.magnitude,5),attack:L(t.vibrato.attack,0)}:e.vibrato=null;},v=function(e,t){t.tremolo?e.tremolo={shape:L(t.tremolo.shape,'sine'),speed:L(t.tremolo.speed,1),magnitude:L(t.tremolo.magnitude,5),attack:L(t.tremolo.attack,1)}:e.tremolo=null;},m=function(t,i){if(i.reverb){t.reverb={wet:L(i.reverb.wet,1)};var a=i.reverb.impulse||T.defaultImpulse,n=new XMLHttpRequest;n.open('GET',a,!0),n.responseType='arraybuffer',t.playable--,n.onload=function(){e.decodeAudioData(n.response,function(e){t.reverb.buffer=e,t.playable++,t.playOnLoad&&t.play(t.playOnLoadArg),t instanceof T.Poly&&t.setUp(i),'mic'===t.source&&t.reverb&&t.reverb.buffer&&t.reverb.node&&!t.reverb.node.buffer&&(t.reverb.node.convolver.buffer=t.reverb.buffer);});},n.send();}else t.reverb=null;},y=function(t,i){'panning'in i?(t.panning={location:i.panning},'number'==typeof i.panning?t.panning.type='stereo':(t.panning.type='3d',t.panning.panningModel=i.panningModel||'equalpower',t.panning.distanceModel=i.distanceModel,t.panning.maxDistance=i.maxDistance,t.panning.rolloffFactor=i.rolloffFactor,t.panning.refDistance=i.refDistance,t.panning.coneInnerAngle=i.coneInnerAngle,t.panning.coneOuterAngle=i.coneOuterAngle,t.panning.coneOuterGain=i.coneOuterGain)):t.panning={location:0,type:'stereo'},'stereo'!==t.panning.type||e.createStereoPanner||(a('Your browser does not support stereo panning. Falling back to 3D panning.'),t.panning={location:[0,0,0],type:'3d',panningModel:'equalpower'});},b=function(e,t){t.delay?e.delay={delayTime:L(t.delay.delayTime,.5),maxDelayTime:L(t.delay.maxDelayTime,2),feedback:L(t.delay.feedback,.25),wet:L(t.delay.wet,.25)}:e.delay=null;},g=function(t,i){return t.nodes=[],t.mediaStreamSource=null,t.gain=null,h({audio:!0,video:!1}).then(function(a){return t.mediaStreamSource=e.createMediaStreamSource(a),T.micConsent=!0,w(t,i),t;}).catch(function(e){a('Error setting up microphone input: ',e);});},w=function(t,i){t.nodes=[],t.gain=e.createGain(),t.gain.gain.value=L(i.volume,t.volume),t.nodes.push(t.mediaStreamSource),t.nodes.push(t.gain),(t.filter||i.filter)&&x(t,i),(t.reverb||i.reverb)&&G(t,i),y(t,i),M(t,i),(t.delay||i.delay)&&A(t,i),q(t,i),t.setUpExternalFxOnPlay(i,e);},k=[],T=function(t){if(this.source=t.source,this.destination=t.destination||e.destination,this.volume=L(t.volume,1),this.defaultVolume=this.volume,this.playable=1,this.pitch=T.pitches[t.pitch]||t.pitch||440,this.gain=[],this.detune=t.detune||0,this.globalReverb=t.globalReverb||!1,this.offset=t.offset||0,this.loop=t.loop||!1,this.tuna=t.tuna||null,this.rate=t.rate||1,this.sprite=t.sprite||null,function(e,t){e.env={attack:t.env?L(t.env.attack,0):0,decay:t.env?L(t.env.decay,0):0,sustain:t.env?L(t.env.sustain,1):1,hold:t.env?L(t.env.hold,3.14159):3.14159,release:t.env?L(t.env.release,0):0},e.defaultEnv={attack:t.env?L(t.env.attack,0):0,decay:t.env?L(t.env.decay,0):0,sustain:t.env?L(t.env.sustain,1):1,hold:t.env?L(t.env.hold,3.14159):3.14159,release:t.env?L(t.env.release,0):0},e.userSetHold=!(!t.env||!t.env.hold);}(this,t),d(this,t),f(this,t),v(this,t),m(this,t),this.constructExternalFx(t,e),y(this,t),b(this,t),this.duration=(this.env.attack+this.env.decay+this.env.hold+this.env.release)*(1/this.rate)*1e3,'noise'===this.source)this.decodedBuffer=c;else if('mic'===this.source)g(this,t);else if(this.source in{sine:0,sawtooth:0,square:0,triangle:0})t.callback&&t.callback(this);else if(n=this,s=t.callback,(o=new XMLHttpRequest).open('GET',n.source,!0),o.responseType='arraybuffer',n.playable--,o.onload=function(){e.decodeAudioData(o.response,function(e){n.decodedBuffer=e,3.14159===n.env.hold&&(n.defaultEnv.hold=n.decodedBuffer.duration*(1/n.rate),n.env.hold=n.decodedBuffer.duration*(1/n.rate)),n.duration=1e3*n.env.hold,s&&s(n),n.playable++,n.playOnLoad&&n.play(n.playOnLoadArg);});},o.send(),this.sprite){var i=this;for(var a in this.sprite)this[a]={sprite:this.sprite[a],play:function(e){return(e=e||{}).env=e.env||{},e.env.hold=this.sprite[1]-this.sprite[0],e.offset=this.sprite[0],i.play(e);}};}var n,s,o;k.push(this);};T.allWads=k,T.micConsent=!1,T.audioContext=e,T.listener=new o.a(e),void 0!=typeof n.a&&(T.tuna=new n.a(T.audioContext));var _=function(e,t){for(var i=t&&t.destination||e.destination,a=1;a<e.nodes.length;a++){if('custom'===e.nodes[a-1].interface)var n=e.nodes[a-1].output;else n=e.nodes[a-1];if('custom'===e.nodes[a].interface)var s=e.nodes[a].input;else s=e.nodes[a];n.connect(s);}if('custom'===e.nodes[e.nodes.length-1].interface)var o=e.nodes[e.nodes.length-1].output;else o=e.nodes[e.nodes.length-1];o.connect(i),T.reverb&&e.globalReverb&&(e.nodes[e.nodes.length-1].connect(T.reverb.node),T.reverb.node.connect(T.reverb.gain),T.reverb.gain.connect(i));},x=function(t,i){i.filter&&!p(i.filter)&&(i.filter=[i.filter]),t.filter.forEach(function(a,n){a.node=e.createBiquadFilter(),a.node.type=a.type,a.node.frequency.value=i.filter&&i.filter[n]&&i.filter[n].frequency||a.frequency,a.node.Q.value=i.filter&&i.filter[n]&&i.filter[n].q||a.q,(i.filter&&i.filter[n].env||t.filter[n].env)&&'mic'!==t.source&&(a.env={attack:i.filter&&i.filter[n].env&&i.filter[n].env.attack||t.filter[n].env.attack,frequency:i.filter&&i.filter[n].env&&i.filter[n].env.frequency||t.filter[n].env.frequency}),t.nodes.push(a.node);});},G=function(t,i){var a={interface:'custom',input:e.createGain(),convolver:e.createConvolver(),wet:e.createGain(),output:e.createGain()};a.convolver.buffer=t.reverb.buffer,a.wet.gain.value=t.reverb.wet,a.input.connect(a.convolver),a.input.connect(a.output),a.convolver.connect(a.wet),a.wet.connect(a.output),t.reverb.node=a,t.nodes.push(t.reverb.node);},M=function(t,i){var a=i&&i.panning;void 0===a&&(a=t.panning.location),'number'==typeof a&&e.createStereoPanner?(t.panning.node=e.createStereoPanner(),t.panning.node.pan.value=a,t.panning.type='stereo'):(t.panning.node=e.createPanner(),'number'==typeof a?t.panning.node.setPosition(a,0,0):t.panning.node.setPosition(a[0],a[1],a[2]),t.panning.node.panningModel=i.panningModel||t.panningModel||'equalpower',t.panning.type='3d',t.panning.node.distanceModel=i.distanceModel||t.distanceModel||t.panning.node.distanceModel,t.panning.node.maxDistance=i.maxDistance||t.maxDistance||t.panning.node.maxDistance,t.panning.node.rolloffFactor=i.rolloffFactor||t.rolloffFactor||t.panning.node.rolloffFactor,t.panning.node.refDistance=i.refDistance||t.refDistance||t.panning.node.refDistance,t.panning.node.coneInnerAngle=i.coneInnerAngle||t.coneInnerAngle||t.panning.node.coneInnerAngle,t.panning.node.coneOuterAngle=i.coneOuterAngle||t.coneOuterAngle||t.panning.node.coneOuterAngle,t.panning.node.coneOuterGain=i.coneOuterGain||t.coneOuterGain||t.panning.node.coneOuterGain),t.nodes.push(t.panning.node);},A=function(t,i){if(t.delay){i.delay||(i.delay={});var a={interface:'custom',input:e.createGain(),output:e.createGain(),delayNode:e.createDelay(t.delay.maxDelayTime),feedbackNode:e.createGain(),wetNode:e.createGain()};a.delayNode.delayTime.value=L(i.delay.delayTime,t.delay.delayTime),a.feedbackNode.gain.value=L(i.delay.feedback,t.delay.feedback),a.wetNode.gain.value=L(i.delay.wet,t.delay.wet),a.input.connect(a.delayNode),a.input.connect(a.output),a.delayNode.connect(a.feedbackNode),a.delayNode.connect(a.wetNode),a.feedbackNode.connect(a.delayNode),a.wetNode.connect(a.output),t.delay.delayNode=a,t.nodes.push(a);}},q=function(e,t){if(e.tuna||t.tuna){var i={};if(e.tuna)for(var a in e.tuna)i[a]=e.tuna[a];if(t.tuna)for(var a in t.tuna)i[a]=t.tuna[a];for(var a in i){var n=new T.tuna[a](i[a]);e.nodes.push(n);}}};T.prototype.constructExternalFx=function(e,t){},T.prototype.setUpExternalFxOnPlay=function(e,t){},T.prototype.play=function(t){if(t=t||{arg:null},this.playable<1)this.playOnLoad=!0,this.playOnLoadArg=t;else if('mic'===this.source)T.micConsent?null===t.arg?_(this,t):(d(this,t),f(this,t),v(this,t),m(this,t),this.constructExternalFx(t,e),y(this,t),b(this,t),w(this,t),_(this,t)):(a('You have not given your browser permission to use your microphone.'),g(this,t).then(function(e){e.play(t);}));else{this.nodes=[],t.wait||(t.wait=0),t.volume?this.volume=t.volume:this.volume=this.defaultVolume,t.offset=t.offset||this.offset||0,this.source in{sine:0,sawtooth:0,square:0,triangle:0}?function(t,i){i=i||{},t.soundSource=e.createOscillator(),t.soundSource.type=t.source,i.pitch?i.pitch in T.pitches?t.soundSource.frequency.value=T.pitches[i.pitch]:t.soundSource.frequency.value=i.pitch:t.soundSource.frequency.value=t.pitch;}(this,t):(this.soundSource=e.createBufferSource(),this.soundSource.buffer=this.decodedBuffer,('noise'===this.source||this.loop||t.loop)&&(this.soundSource.loop=!0)),this.soundSource.detune&&(this.soundSource.detune.value=t.detune||this.detune),void 0===t.wait&&(t.wait=0),void 0===t.exactTime&&(t.exactTime=e.currentTime+t.wait),this.lastPlayedTime=t.exactTime-t.offset,this.nodes.push(this.soundSource),function(e,t){t&&t.env?(e.env.attack=L(t.env.attack,e.defaultEnv.attack),e.env.decay=L(t.env.decay,e.defaultEnv.decay),e.env.sustain=L(t.env.sustain,e.defaultEnv.sustain),e.env.hold=L(t.env.hold,e.defaultEnv.hold),e.env.release=L(t.env.release,e.defaultEnv.release)):e.env={attack:e.defaultEnv.attack,decay:e.defaultEnv.decay,sustain:e.defaultEnv.sustain,hold:e.defaultEnv.hold,release:e.defaultEnv.release};}(this,t),this.soundSource.playbackRate&&(this.soundSource.playbackRate.value=t.rate||this.rate,this.env.hold=this.env.hold*(1/this.soundSource.playbackRate.value)),function(e,t){t&&t.filter&&e.filter?(p(t.filter)||(t.filter=[t.filter]),x(e,t)):e.filter&&x(e,e);}(this,t),q(this,t),this.setUpExternalFxOnPlay(t,e),this.gain.unshift(e.createGain()),this.gain[0].label=t.label,this.gain[0].soundSource=this.soundSource,this.nodes.push(this.gain[0]),this.gain.length>15&&(this.gain.length=15),this.reverb&&G(this,t),M(this,t),A(this,t),_(this,t),this.filter&&this.filter[0].env&&function(e,t){e.filter.forEach(function(e,i){e.node.frequency.linearRampToValueAtTime(e.frequency,t.exactTime),e.node.frequency.linearRampToValueAtTime(e.env.frequency,t.exactTime+e.env.attack);});}(this,t),function(e,t){var i=t.loop||t.loop;if(-1!==e.env.hold&&(!i||e.userSetHold||t.env&&t.env.hold))a=e.env.hold;else var a=999;e.gain[0].gain.linearRampToValueAtTime(1e-4,t.exactTime),e.gain[0].gain.linearRampToValueAtTime(e.volume,t.exactTime+e.env.attack+1e-5),e.gain[0].gain.linearRampToValueAtTime(e.volume*e.env.sustain,t.exactTime+e.env.attack+e.env.decay+2e-5),e.gain[0].gain.linearRampToValueAtTime(e.volume*e.env.sustain,t.exactTime+e.env.attack+e.env.decay+a+3e-5),e.gain[0].gain.linearRampToValueAtTime(1e-4,t.exactTime+e.env.attack+e.env.decay+a+e.env.release+4e-5),e.soundSource.start(t.exactTime,t.offset),e.soundSource.playbackRate||e.soundSource.stop(t.exactTime+e.env.attack+e.env.decay+a+e.env.release+5e-5);}(this,t),this.vibrato&&((n=this).vibrato.wad=new T({source:n.vibrato.shape,pitch:n.vibrato.speed,volume:n.vibrato.magnitude,env:{attack:n.vibrato.attack},destination:n.soundSource.frequency}),n.vibrato.wad.play()),this.tremolo&&function(e,t){e.tremolo.wad=new T({source:e.tremolo.shape,pitch:e.tremolo.speed,volume:e.tremolo.magnitude,env:{attack:e.tremolo.attack,hold:10},destination:e.gain[0].gain}),e.tremolo.wad.play();}(this);var i=this;if(this.soundSource.onended=function(e){i.playPromiseResolve(i);},!t.unpause)return this.playPromise=new Promise(function(e,t){i.playPromiseResolve=e;}),this.playPromise;}var n;t.callback&&t.callback(this);},T.prototype.setVolume=function(t,i,a){if(i=i||.01,a){if(this.gain.length>0)for(let i=0;i<this.gain.length;i++)this.gain[i].label===a&&this.gain[i].gain.setValueAtTime(t,e.currentTime);}else this.defaultVolume=t,this.gain.length>0&&this.gain[0].gain.setValueAtTime(t,e.currentTime);return this;},T.prototype.setRate=function(e){var t;return t=e&&e>0?e:0,this.soundSource?this.soundSource.playbackRate.value=t:a('Sorry, but the wad does not contain a soundSource!'),this;},T.prototype.setPitch=function(t,i,a){if(i=i||.01,a)for(let n=0;n<this.gain.length;n++)this.gain[n].label===a&&(t in T.pitches?this.gain[n].soundSource.frequency.setTargetAtTime(T.pitches[t],e.currentTime,i):this.soundSource.frequency.settargetAtTime(t,e.currentTime,i));else t in T.pitches?(this.soundSource&&(this.soundSource.frequency.value=T.pitches[t]),this.pitch=T.pitches[t]):(this.soundSource&&(this.soundSource.frequency.value=t),this.pitch=t);return this;},T.prototype.setDetune=function(t,i,a){if(i=i||.01,a)for(let n=0;n<this.gain.length;n++)this.gain[n].label===a&&this.gain[n].soundSource.detune.setTargetAtTime(t,e.currentTime,i);else this.soundSource.detune.setTargetAtTime(t,e.currentTime,i);return this;},T.prototype.setPanning=function(t,i,a){return i=i||.01,'number'!=typeof t||e.createStereoPanner||(t=[t,0,0]),this.panning.location=t,p(t)&&'3d'===this.panning.type&&this.panning.node?this.panning.node.setPosition(t[0],t[1],t[2]):'number'==typeof t&&'stereo'===this.panning.type&&this.panning.node&&this.panning.node.pan.setTargetAtTime(t,e.currentTime,i),p(t)?this.panning.type='3d':'number'==typeof t&&(this.panning.type='stereo'),this;},T.prototype.setReverb=function(e){var t;return t=e&&e>0&&e<1?e:e>=1?1:0,this.reverb?(this.reverb.wet=t,this.reverb.node&&(this.reverb.node.wet.gain.value=t)):a('Sorry, but the wad does not contain Reverb!'),this;},T.prototype.setDelay=function(e,t,i){var n,s,o;return n=e&&e>0?e:0,s=t&&t>0&&t<1?t:t>=1?1:0,o=i&&i>0&&i<1?i:i>=1?1:0,this.delay?(this.delay.delayTime=n,this.delay.wet=s,this.delay.feedback=o,this.delay.delayNode&&(this.delay.delayNode.delayNode.delayTime.value=n,this.delay.delayNode.wetNode.gain.value=s,this.delay.delayNode.feedbackNode.gain.value=o)):a('Sorry, but the wad does not contain delay!',2),this;},T.prototype.pause=function(t){this.pauseTime=e.currentTime,this.soundSource.onended=null,this.stop(t);},T.prototype.unpause=function(e){(e=e||{}).unpause=!0,this.pauseTime&&null!=this.lastPlayedTime?e.offset=this.pauseTime-this.lastPlayedTime:a('You tried to unpause a wad that was not played and paused, so it just played normally instead.',2),this.play(e);},T.prototype.stop=function(t){if('mic'!==this.source){if(!this.gain||!this.gain.length)return a('You tried to stop a Wad that never played. ',2),void a(this,2);if(t)for(var i=0;i<this.gain.length;i++)this.gain[i].label===t&&(this.gain[i].gain.cancelScheduledValues(e.currentTime),this.gain[i].gain.setValueAtTime(this.gain[i].gain.value,e.currentTime),this.gain[i].gain.linearRampToValueAtTime(1e-4,e.currentTime+this.env.release));else if(!t){this.gain[0].gain.cancelScheduledValues(e.currentTime),this.gain[0].gain.setValueAtTime(this.gain[0].gain.value,e.currentTime),this.gain[0].gain.linearRampToValueAtTime(1e-4,e.currentTime+this.env.release);try{this.soundSource.stop(e.currentTime+this.env.release);}catch(e){a(e,2);var n=this;setTimeout(function(){n.soundSource.dispatchEvent(new Event('ended')),n.soundSource.onended=null;},1e3*this.env.release);}}}else T.micConsent?this.mediaStreamSource.disconnect(0):a('You have not given your browser permission to use your microphone.');this.tremolo&&this.tremolo.wad.stop();},T.Poly=u.a,T.SoundIterator=function(e){return new s.a(e,T);},T.stopAll=function(e){for(var t=0;t<T.allWads.length;t++)T.allWads[t].stop(e);},T.setVolume=function(e){for(var t=0;t<T.allWads.length;t++)T.allWads[t].setVolume(e);},T.defaultImpulse='https://www.codecur.io/audio/widehall.wav',T.setGlobalReverb=function(t){T.reverb={},T.reverb.node=e.createConvolver(),T.reverb.gain=e.createGain(),T.reverb.gain.gain.value=t.wet;var i=t.impulse||T.defaultImpulse,a=new XMLHttpRequest;a.open('GET',i,!0),a.responseType='arraybuffer',a.onload=function(){e.decodeAudioData(a.response,function(e){T.reverb.node.buffer=e;});},a.send();};var L=function(e,t){return null==e?t:e;};T.pitches={A0:27.5,'A#0':29.1352,Bb0:29.1352,B0:30.8677,'B#0':32.7032,Cb1:30.8677,C1:32.7032,'C#1':34.6478,Db1:34.6478,D1:36.7081,'D#1':38.8909,Eb1:38.8909,E1:41.2034,Fb1:41.2034,'E#1':43.6535,F1:43.6535,'F#1':46.2493,Gb1:46.2493,G1:48.9994,'G#1':51.9131,Ab1:51.9131,A1:55,'A#1':58.2705,Bb1:58.2705,B1:61.7354,Cb2:61.7354,'B#1':65.4064,C2:65.4064,'C#2':69.2957,Db2:69.2957,D2:73.4162,'D#2':77.7817,Eb2:77.7817,E2:82.4069,Fb2:82.4069,'E#2':87.3071,F2:87.3071,'F#2':92.4986,Gb2:92.4986,G2:97.9989,'G#2':103.826,Ab2:103.826,A2:110,'A#2':116.541,Bb2:116.541,B2:123.471,Cb3:123.471,'B#2':130.813,C3:130.813,'C#3':138.591,Db3:138.591,D3:146.832,'D#3':155.563,Eb3:155.563,E3:164.814,Fb3:164.814,'E#3':174.614,F3:174.614,'F#3':184.997,Gb3:184.997,G3:195.998,'G#3':207.652,Ab3:207.652,A3:220,'A#3':233.082,Bb3:233.082,B3:246.942,Cb4:246.942,'B#3':261.626,C4:261.626,'C#4':277.183,Db4:277.183,D4:293.665,'D#4':311.127,Eb4:311.127,E4:329.628,Fb4:329.628,'E#4':349.228,F4:349.228,'F#4':369.994,Gb4:369.994,G4:391.995,'G#4':415.305,Ab4:415.305,A4:440,'A#4':466.164,Bb4:466.164,B4:493.883,Cb5:493.883,'B#4':523.251,C5:523.251,'C#5':554.365,Db5:554.365,D5:587.33,'D#5':622.254,Eb5:622.254,E5:659.255,Fb5:659.255,'E#5':698.456,F5:698.456,'F#5':739.989,Gb5:739.989,G5:783.991,'G#5':830.609,Ab5:830.609,A5:880,'A#5':932.328,Bb5:932.328,B5:987.767,Cb6:987.767,'B#5':1046.5,C6:1046.5,'C#6':1108.73,Db6:1108.73,D6:1174.66,'D#6':1244.51,Eb6:1244.51,Fb6:1318.51,E6:1318.51,'E#6':1396.91,F6:1396.91,'F#6':1479.98,Gb6:1479.98,G6:1567.98,'G#6':1661.22,Ab6:1661.22,A6:1760,'A#6':1864.66,Bb6:1864.66,B6:1975.53,Cb7:1975.53,'B#6':2093,C7:2093,'C#7':2217.46,Db7:2217.46,D7:2349.32,'D#7':2489.02,Eb7:2489.02,E7:2637.02,Fb7:2637.02,'E#7':2793.83,F7:2793.83,'F#7':2959.96,Gb7:2959.96,G7:3135.96,'G#7':3322.44,Ab7:3322.44,A7:3520,'A#7':3729.31,Bb7:3729.31,B7:3951.07,Cb8:3951.07,'B#7':4186.01,C8:4186.01},T.pitchesArray=['C0','C#0','D0','D#0','E0','F0','F#0','G0','G#0','A0','A#0','B0','C1','C#1','D1','D#1','E1','F1','F#1','G1','G#1','A1','A#1','B1','C2','C#2','D2','D#2','E2','F2','F#2','G2','G#2','A2','A#2','B2','C3','C#3','D3','D#3','E3','F3','F#3','G3','G#3','A3','A#3','B3','C4','C#4','D4','D#4','E4','F4','F#4','G4','G#4','A4','A#4','B4','C5','C#5','D5','D#5','E5','F5','F#5','G5','G#5','A5','A#5','B5','C6','C#6','D6','D#6','E6','F6','F#6','G6','G#6','A6','A#6','B6','C7','C#7','D7','D#7','E7','F7','F#7','G7','G#7','A7','A#7','B7','C8'],T.assignMidiMap=function(e,t,i,a){t=t||0;navigator.requestMIDIAccess().then(function(){T.midiInputs[t]?(T.midiInputs[t].onmidimessage=e,'function'==typeof i&&i()):'function'==typeof a&&a();});},T.midiInstrument={play:function(){a('playing midi');},stop:function(){a('stopping midi');}},T.midiInputs=[];var F=function(e){a(e.receivedTime,e.data),144===e.data[0]?0===e.data[2]?(a('Playing note: ',2),a(T.pitchesArray[e.data[1]-12],2),T.midiInstrument.stop(T.pitchesArray[e.data[1]-12])):e.data[2]>0&&(a('Stopping note: ',2),a(T.pitchesArray[e.data[1]-12],2),T.midiInstrument.play({pitch:T.pitchesArray[e.data[1]-12],label:T.pitchesArray[e.data[1]-12],callback:function(e){}})):176===e.data[0]?(a('controller'),46==e.data[1]&&(127==e.data[2]?T.midiInstrument.pedalMod=!0:0==e.data[2]&&(T.midiInstrument.pedalMod=!1))):224===e.data[0]&&a('pitch bend');};if(navigator&&navigator.requestMIDIAccess)try{navigator.requestMIDIAccess().then(function(e){T.midiInputs=[];for(var t=e.inputs.values(),i=t.next();!i.done;i=t.next())T.midiInputs.push(i.value);a('MIDI inputs: '),a(T.midiInputs);for(var n=0;n<T.midiInputs.length;n++)T.midiInputs[n].onmidimessage=F;},function(e){a('Failed to get MIDI access',e);});}catch(e){a('Failed to get MIDI access',e);}return T.presets={hiHatClosed:{source:'noise',env:{attack:.001,decay:.008,sustain:.2,hold:.03,release:.01},filter:{type:'highpass',frequency:400,q:1}},snare:{source:'noise',env:{attack:.001,decay:.01,sustain:.2,hold:.03,release:.02},filter:{type:'bandpass',frequency:300,q:.18}},hiHatOpen:{source:'noise',env:{attack:.001,decay:.008,sustain:.2,hold:.43,release:.01},filter:{type:'highpass',frequency:100,q:.2}},ghost:{source:'square',volume:.3,env:{attack:.01,decay:.002,sustain:.5,hold:2.5,release:.3},filter:{type:'lowpass',frequency:600,q:7,env:{attack:.7,frequency:1600}},vibrato:{attack:8,speed:8,magnitude:100}},piano:{source:'square',volume:1.4,env:{attack:.01,decay:.005,sustain:.2,hold:.015,release:.3},filter:{type:'lowpass',frequency:1200,q:8.5,env:{attack:.2,frequency:600}}}},T.logs=i,T;}();void 0!==e&&e.exports&&(e.exports=l),t.default=l;}.call(this,i(4)(e));}]).default;});

		/***/ }),

	/***/ './test/6/src/index.js':
	/*!*****************************!*\
  !*** ./test/6/src/index.js ***!
  \*****************************/
	/*! no exports provided */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {

		'use strict';
		__webpack_require__.r(__webpack_exports__);
		/* harmony import */ var _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../build/wad.min.js */ './build/wad.min.js');
		/* harmony import */ var _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_build_wad_min_js__WEBPACK_IMPORTED_MODULE_0__);


		_build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a.logs.verbosity = 0;
		var ignition = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source:'./ignition.mp3'});
		document.getElementById('ignition').addEventListener('click', async function(){
			// await ignition.play()
			await ignition.play();
			console.log('ignition');
			await ignition.play();
			console.log('ignition');
			await ignition.play();
			console.log('ignition');

		});
		document.getElementById('ignition-faster').addEventListener('click', async function(){
			await ignition.play({ rate: 2.0, });
			console.log('fast ignition');
			await ignition.play({ rate: 2.0, });
			console.log('fast ignition');
			await ignition.play({ rate: 2.0, });
			console.log('fast ignition');
		});
		document.getElementById('ignition-slower').addEventListener('click', async function(){
			await ignition.play({
				rate: 0.5,
			});
			console.log('slow ignition');
			await ignition.play({
				rate: 0.5,
			});
			console.log('slow ignition');
		});
		var helloMan = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({
			source: './hello-man.wav',
			sprite: {
				hello: [0, .4],
				man  : [.4,1]
			}
		});
		document.getElementById('sprite-a').addEventListener('click', async function(){
			await helloMan.hello.play({env:{release:.02}});
			await helloMan.hello.play({rate: 1.1, volume:1.2, env:{release:.02}});
		});
		document.getElementById('sprite-b').addEventListener('click', async function(){
			await helloMan.man.play({env:{attack: .1, release:.02}});
			await helloMan.man.play({env:{attack: .1, release:.02}});
		});
		document.getElementById('sprite-ab').addEventListener('click', async function(){
			await helloMan.play({env:{attack: .1, release:.02}});
			await helloMan.play({env:{attack: .1, release:.02}});
		});

		var longClip = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source:'./do-re-mi.wav'});
		document.getElementById('full-song').addEventListener('click', function(){
			longClip.play().then(function(thatWad){
				console.log('Clip finished.');
			});
		});
		document.getElementById('pause-full-song').addEventListener('click', function(){
			longClip.pause();
		});
		document.getElementById('unpause-full-song').addEventListener('click', function(){
			longClip.unpause();
		});
		document.getElementById('stop-full-song').addEventListener('click', function(){
			longClip.stop();
		});

		var sine = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source:'sine', env: {attack: .07, hold: 1.5, release: .6}});
		document.getElementById('sine').addEventListener('click', async function(){
			await sine.play();
			await sine.play();
		});
		document.getElementById('detune').addEventListener('click', function(){
			sine.setDetune(100);
		});
		document.getElementById('pan').addEventListener('click', function(){
			sine.setPanning(1);
		});
		document.getElementById('set-pitch').addEventListener('click', function(){
			sine.setPitch('B3');
		});

		var sawtooth = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source:'sawtooth', env:{hold:1, release:.2}});
		var triangle = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source:'triangle', env:{hold:1, release:.2}});
		var polywad = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a.Poly({
			audioMeter: {
				clipLevel: .98,
				averaging: .95,
				clipLag: 750,
			},
		});
		polywad.add(sawtooth).add(triangle);

		document.getElementById('polywad').addEventListener('click', function(){
			polywad.play();
		});
		document.getElementById('polywad-set-pitch').addEventListener('click', function(){
			polywad.setPitch('B3');
		});

		document.getElementById('stop').addEventListener('click', function(){
			sine.stop();
		});
		document.getElementById('polywad-stop').addEventListener('click', function(){
			polywad.stop();
		});
		var volumeDisplay = document.getElementById('polywad-volume');
		var clippingDisplay = document.getElementById('polywad-clipping');
		setInterval(function(){
			volumeDisplay.innerText = Math.round(polywad.audioMeter.volume * 1000);
			clippingDisplay.innerText = polywad.audioMeter.checkClipping();

		}, 50);

		var voice;
		var tuner;
		var rafId;
		var logPitch = function(){
			console.log(tuner.pitch, tuner.noteName);
			rafId = requestAnimationFrame(logPitch);
		};
		document.getElementById('mic-consent').addEventListener('click', function(){
			voice = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({
				source  : 'mic',
				// reverb  : {
				//     wet : .4
				// },
				// filter  : {
				//     type      : 'highpass',
				//     frequency : 700
				// },
				// panning : -.2
			});

			tuner = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a.Poly();
			// tuner.setVolume(0) // mute the tuner to avoid feedback
			tuner.add(voice);


		});

		document.getElementById('mic-play').addEventListener('click', function(){
			console.log('Play mic');
			voice.play();
		});
		document.getElementById('mic-stop').addEventListener('click', function(){
			console.log('Play mic');
			voice.stop();
		});
		document.getElementById('detect-pitch').addEventListener('click', function(){
			tuner.updatePitch();
			logPitch();
		});
		document.getElementById('stop-detect-pitch').addEventListener('click', function(){
			tuner.stopUpdatingPitch();
			cancelAnimationFrame(rafId);
		});


		var tunaConfig = {
			source: 'sawtooth',
			env: {
				attack: .1,
				hold: 2,
				release: .4
			},
			filter: {
				type: 'lowpass',
				frequency: 700
			}
		};
		var withoutTuna = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a(tunaConfig);

		tunaConfig.tuna = {
			Chorus : {
				intensity: 0.3,  //0 to 1
				rate: 4,         //0.001 to 8
				stereoPhase: 0, //0 to 180
				bypass: 0
			}
		}; 

		var withTuna = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a(tunaConfig);

		tunaConfig.tuna = {
			Phaser: {
				rate: 1.2,                     //0.01 to 8 is a decent range, but higher values are possible
				depth: 0.3,                    //0 to 1
				feedback: 0.2,                 //0 to 1+
				stereoPhase: 30,               //0 to 180
				baseModulationFrequency: 700,  //500 to 1500
				bypass: 0
			}
		};
		var tunaPhaser = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a(tunaConfig);

		document.getElementById('no-tuna').addEventListener('click', function(){
			withoutTuna.play();
		});
		document.getElementById('tuna-chorus').addEventListener('click', function(){
			withTuna.play();
		});
		document.getElementById('tuna-phaser').addEventListener('click', function(){
			tunaPhaser.play();
		});

		//SoundIterator

		var iterator = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a.SoundIterator({files: [
			new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source: 'sawtooth', volume: 0.5, env:{hold:1}}),
			new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source: 'square', volume: 0.5, env:{hold:1}}),
			new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source: 'sine', volume: 0.5, env:{hold:1}}),
		]});

		document.getElementById('play-next-nonrandom-sound').addEventListener('click', function(){
			iterator.random = false;
			iterator.play();
		});

		document.getElementById('play-next-random-sound').addEventListener('click', function(){
			iterator.random = true;
			iterator.randomPlaysBeforeRepeat = 0;
			iterator.play();
		});

		document.getElementById('play-next-sound-with-1-randomPlaysBeforeRepeat').addEventListener('click', function(){
			iterator.random = true;
			iterator.randomPlaysBeforeRepeat = 1;
			iterator.play();
		});

		var newSound = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({source:'triangle', volume: 0.5, env:{hold:1}});

		document.getElementById('add-sound').addEventListener('click', function(){
			iterator.add(newSound);
		});

		document.getElementById('remove-sound').addEventListener('click', function(){
			iterator.remove(newSound);
		});

		// AudioListener

		var listenerReferenceSound = new _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a({
			source: './ignition.mp3',
			panning: [0,0,0]
		});
		var listener = _build_wad_min_js__WEBPACK_IMPORTED_MODULE_0___default.a.listener;

		document.getElementById('listener-move-left').addEventListener('click', function(){
			listener.setPosition(listener.positionX.value-1, listener.positionY.value, listener.positionZ.value);
			listenerReferenceSound.play();
		});

		document.getElementById('listener-move-right').addEventListener('click', function(){
			listener.positionX.value += 1;
			listenerReferenceSound.play();
		});

		document.getElementById('listener-position').addEventListener('click', function(){
			alert('The listener is at: ' + JSON.stringify(listener.getPosition()));
		});

		document.getElementById('listener-face-left').addEventListener('click', function(){
			listener.setOrientation(-1, 0, 0, listener.upX.value, listener.upY.value, listener.upZ.value);
			listenerReferenceSound.play();
		});

		document.getElementById('listener-face-forward').addEventListener('click', function(){
			listener.setOrientation(0, 0, -1, listener.upX.value, listener.upY.value, listener.upZ.value);
			listenerReferenceSound.play();
		});

		document.getElementById('listener-face-right').addEventListener('click', function(){
			listener.forwardX.value = 1;
			listener.forwardY.value = 0;
			listener.forwardZ.value = 0;
			listenerReferenceSound.play();
		});

		document.getElementById('listener-orientation').addEventListener('click', function(){
			alert('The listener is at: ' + JSON.stringify(listener.getOrientation()));
		});


		/***/ })

/******/ });
//# sourceMappingURL=test.js.map